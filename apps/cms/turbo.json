{
  "extends": ["//"],
  "pipeline": {
    "dev": {
      "persistent": true,
      "dependsOn": ["build", "^build"]
    },
    "dev:light": {
      "notes": "Same as dev, but does not build the CMS, just clears caches",
      "persistent": true,
      "dependsOn": ["^build"]
    },
    "build": {
      "dependsOn": ["prep"],
      "inputs": ["config/**", "web/modules/custom/**", "web/themes/custom/**"],
      "outputs": ["web/sites/default/files/**"]
    },
    "prep": {
      "inputs": ["composer.json", "composer.lock", "scaffold/**"],
      "outputs": [
        "vendor/**",
        "!**/.git/**",
        "web/**",
        "!web/modules/custom/**",
        "!web/themes/custom/**",
        "!web/sites/default/files/**"
      ]
    }
  }
}
